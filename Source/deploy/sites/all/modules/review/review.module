<?php

/**
 * Implements hook_block_info().
 */
function review_block_info() {
  $blocks = array();
  $blocks['review_select_form'] =  array(
    'info' => t('My site review'),
    'page callback' => 'my_site_review',
    'access argument' => array('access content'),
    );
  return $blocks;
}

/**
 * Implements hook_block_view().
 */
function review_block_view($delta = '') {
  // This example is adapted from node.module.
  $block = array();
  

  switch ($delta) {
    case 'review_select_form':
      $block['subject'] = t('Review');
      $block['content'] = drupal_get_form('MYREVIEW_form');
    break;
  }
  return $block;
}

/**
 * Custom form.
 */
function MYREVIEW_form($form, &$form_state) {
  $form['experience'] = array(
    '#type' => 'radios',
    '#title' => t('Share your experience'),
    '#options' => array(
         t('Good'),
         t('Average'),
         t('Bad'),
         )
         );
  $form['reason'] = array(
    '#type' => 'checkboxes',
    '#title' => t('Reason'),
    '#options' => array(
           t('Content'),
           t('Performance'),
           t('UI'),
            ),
    '#states' => array(
            'visible' => array(
            ':input[name="experience"]' => array(
              array('value' => 2),
              array('value' => 3),
              ),
            //':input[name="experience"]' => array('value' => 3),
            ),
            ),
            );
   $form['comments'] = array(
    '#type' => 'textfield',
    '#title' => t('Comments'),
    '#title' => 'Please write any comments',
    '#size' => 50,
    '#maxlength' => 50,
    '#required' => TRUE,
    );
   /*switch ('#options') {
    case 'Good':
             '#type' => 'checkboxes',
             '#title' => t('Reason'),
             '#options' => array(
             t('Content'),
             t('Performance'),
             t('UI'),
             );
          break;

        case 'Average' :
        case 'Bad' :
             '#type' => 'checkboxes',
             '#title' => t('Reason'),
             '#description' => t('Select an option'),
             '#options' => array(
             t('Content'),
             t('Performance'),
             t('UI'),
             )
           );
          break;
         }
        //);
  }*/

  $form['submit'] = array(
    '#type' => 'submit',
    '#value' => t('Submit Button'),
  );

  return $form;
}

/**
 * Custom form submit function.
 */
function MYFORM_form_submit($form, &$form_state) {
  // You need the have Devel module enabled for dpm() to work.
  print_r($form_state);
}
